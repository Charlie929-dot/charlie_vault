---
🌻日期🌻: 2025-12-13
🌙星期🌙: 星期六
⌚️时间⌚️: 00:07
🌍位置🌍: 陕西-长安区
☁️天气☁️: 🌅晴 / 🌃晴
🌡️温度🌡️: 🌅7.0℃/ 🌃-3.0℃
tags:
---
<%*
let date = tp.date.now("YYYY-MM-DD")
await tp.file.rename(date)
// 只需要高德地图API密钥
let weatherUrl = 'https://restapi.amap.com/v3/weather/weatherInfo'
let key = '8b32c6f5993cfbda6af8299af3d49c12' // 替换为你的高德地图API密钥

// 可以手动设置城市编码，或者使用默认值
// 高德城市编码查询： https://lbs.amap.com/api/webservice/download
let cityCode = '610116'

// 初始化变量
let 位置 = '西安'
let 天气 = '未知'
let 温度 = '未知'

try {
    // 获取天气信息
    let weatherResponse = await fetch(weatherUrl + `?key=${key}&city=${cityCode}&extensions=all`)
    let weatherData = await weatherResponse.json()
    
    console.log("天气API返回: ", weatherData)
    
    if (weatherData.status === '1' && weatherData.forecasts && weatherData.forecasts.length > 0) {
        let info = weatherData.forecasts[0]
        
        位置 = info.province + '-' + info.city
        天气 = '🌅' + info.casts[0].dayweather + ' / 🌃' + info.casts[0].nightweather
        温度 = '🌅' + info.casts[0].daytemp_float + '℃' + '/ 🌃' + info.casts[0].nighttemp_float + '℃'
    } else {
        console.error("天气API返回错误: ", weatherData)
        位置 = '西安（默认）'
        天气 = '☀️ 晴朗, 🌤️ 多云, 🌧️ 小雨, ⛈️ 雷阵雨, ❄️ 小雪, 🌫️ 雾'
        温度 = '15-25℃, 18-28℃, 20-30℃, 10-20℃, 5-15℃, 25-35℃'
    }
} catch (error) {
    console.error("获取天气信息失败: ", error)
    位置 = '西安（默认）'
    天气 = '☀️ 晴朗, 🌤️ 多云, 🌧️ 小雨, ⛈️ 雷阵雨, ❄️ 小雪, 🌫️ 雾'
    温度 = '15-25℃, 18-28℃, 20-30℃, 10-20℃, 5-15℃, 25-35℃'
}
-%>
---
🌻日期🌻: <% tp.file.creation_date("YYYY-MM-DD") %>
🌙星期🌙: <% tp.file.creation_date("dddd") %>
⌚️时间⌚️: <% tp.file.creation_date("HH:mm") %>
🌍位置🌍: <% 位置 %>
☁️天气☁️: <% 天气 %>
🌡️温度🌡️: <% 温度 %>
tags: #日记>[!quote] 一言
 直道相思了无益，未妨惆怅是清狂。  —— 《无题·重帏深下莫愁堂》 · 李商隐
 
---
# Tracking


# Diary


---
<< [[2025-12-12]] | [[2025-12-14]] >>

---
<%*
let 一言 = "获取中..."
let 来源 = ""
let 作者 = ""

try {
    let hitokotoResponse = await fetch('https://v1.hitokoto.cn/?c=d&c=h&c=i&c=j')
    let hitokotoData = await hitokotoResponse.json()
    
    一言 = hitokotoData.hitokoto || "今日无一言"
    来源 = hitokotoData.from || "未知"
    作者 = hitokotoData.from_who || (hitokotoData.from_who === null ? '佚名' : '未知')
} catch (error) {
    console.error("获取一言失败: ", error)
    一言 = "获取失败，请检查网络连接"
    来源 = "未知"
    作者 = "未知"
}
-%>
>[!quote] 一言
 <% 一言 %>  —— 《<% 来源 %>》 · <% 作者 %>
 
---
# Tracking


# Diary


---
<< [[<% tp.date.now("YYYY-MM-DD", -1) %>]] | [[<% tp.date.now("YYYY-MM-DD", 1) %>]] >>